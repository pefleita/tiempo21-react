(this["webpackJsonptiempo21-react"]=this["webpackJsonptiempo21-react"]||[]).push([[0],{13:function(e,t,n){e.exports={searchContainer:"Search_searchContainer__3zXIn",searchBox:"Search_searchBox__2e2o5",searchButton:"Search_searchButton__26uDe",searchInput:"Search_searchInput__2uLKN"}},15:function(e,t,n){e.exports={title:"App_title__-GfWs",siteContainer:"App_siteContainer__VZkNZ",footer:"App_footer__29Fsv"}},16:function(e,t,n){e.exports={detailsContainer:"NewDetails_detailsContainer__29sGA",imageContainer:"NewDetails_imageContainer__36Ay6",meta:"NewDetails_meta__InY4e"}},17:function(e,t,n){e.exports={newCard:"NewCard_newCard__2gsec",newImage:"NewCard_newImage__KUeBI",date:"NewCard_date__K9sxS"}},20:function(e,t,n){e.exports={spinner:"Spinner_spinner__1XGpJ",spinning:"Spinner_spinning__3-n4e"}},21:function(e,t,n){e.exports={errorContainer:"Error_errorContainer__3Vt-q"}},26:function(e,t,n){e.exports={newsGrid:"NewsGrid_newsGrid__1f2Ay"}},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n(24),a=n.n(r),c=n(15),i=n.n(c),j=n(8),o=n(3),d=n(12),l=n(14),u=n(20),b=n.n(u),h=n(1);function x(){return Object(h.jsx)("div",{className:b.a.spinner,children:Object(h.jsx)(l.b,{className:b.a.spinning,size:60})})}var O=n(16),_=n.n(O),m=n(10);function p(e){var t=Object(s.useState)([]),n=Object(m.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(null),i=Object(m.a)(c,2),j=i[0],o=i[1],d=Object(s.useState)(!1),l=Object(m.a)(d,2),u=l[0],b=l[1],h="https://www.tiempo21.cu/wp-json/wp/v2/"+e;return Object(s.useEffect)((function(){b(!0);fetch(h).then((function(e){if(!e.ok)throw Error("Ups... Lo sentimos, al parecer el servicio de noticias no est\xe1 funcionando.");return e.json()})).then((function(e){a(e),b(!1),o(null)})).catch((function(e){a([]),b(!1),o(e.message)}))}),[h]),{data:r,error:j,isLoading:u}}var f=n(21),w=n.n(f);function g(e){var t=e.err;return"Failed to fetch"===t?Object(h.jsx)("div",{className:w.a.errorContainer,children:Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:["No se pudo conectar con la web de noticias. ",Object(h.jsx)("br",{}),"Revice su conexi\xf3n"]})})}):Object(h.jsx)("div",{className:w.a.errorContainer,children:Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:t})})})}function v(){var e=p("posts?_embed&slug="+Object(o.h)().newSlug),t=e.data,n=e.error;return e.isLoading?Object(h.jsx)(x,{}):n?Object(h.jsx)(g,{err:n}):Object(h.jsx)(h.Fragment,{children:t.map((function(e){return Object(h.jsx)("div",{className:_.a.detailsContainer,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:_.a.imageContainer,children:Object(h.jsx)("img",{width:800,height:420,src:e._embedded["wp:featuredmedia"][0].media_details.sizes.full.source_url,alt:e.title.rendered})}),Object(h.jsx)("h2",{dangerouslySetInnerHTML:{__html:e.title.rendered}}),Object(h.jsxs)("ul",{className:_.a.meta,children:[Object(h.jsxs)("li",{children:[Object(h.jsx)(d.b,{size:15})," ",Object(h.jsx)("span",{children:e._embedded.author[0].name})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)(d.a,{size:15})," ",Object(h.jsx)("span",{children:new Date(e.date).toLocaleDateString()})]})]}),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content.rendered}})]})},e.id)}))})}function N(){return new URLSearchParams(Object(o.g)().search)}var C=n(17),S=n.n(C);function I(e){var t=e.noticia;return Object(h.jsx)("li",{className:S.a.newCard,children:Object(h.jsxs)(j.b,{to:"/news/"+t.slug,children:[Object(h.jsx)("img",{width:150,height:150,className:S.a.newImage,src:t._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url,alt:t.title.rendered}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{dangerouslySetInnerHTML:{__html:t.title.rendered}}),Object(h.jsxs)("div",{className:S.a.date,children:[Object(h.jsx)(d.a,{size:15}),Object(h.jsx)("span",{children:new Date(t.date).toLocaleDateString()})]})]})]})})}var L=n(26),D=n.n(L);function y(){var e=N().get("search"),t=p(e?"posts?_embed&search="+e:"posts?_embed"),n=t.data,s=t.error;return t.isLoading?Object(h.jsx)(x,{}):s?Object(h.jsx)(g,{err:s}):Object(h.jsx)("div",{className:D.a.newsGrid,children:Object(h.jsx)("ul",{children:n.map((function(e){return Object(h.jsx)(I,{noticia:e},e.id)}))})})}var z=n(13),B=n.n(z);function G(){var e=N().get("search"),t=Object(s.useState)(""),n=Object(m.a)(t,2),r=n[0],a=n[1],c=Object(o.f)();Object(s.useEffect)((function(){a(e||"")}),[e]);return Object(h.jsx)("form",{className:B.a.searchContainer,onSubmit:function(e){e.preventDefault(),c.push("/?search="+r)},children:Object(h.jsxs)("div",{className:B.a.searchBox,children:[Object(h.jsx)("input",{className:B.a.searchInput,type:"text",value:r,onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("button",{className:B.a.searchButton,type:"submit",children:Object(h.jsx)(l.a,{size:20})})]})})}function A(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(G,{}),Object(h.jsx)(y,{})]})}function T(){return Object(h.jsxs)(j.a,{children:[Object(h.jsx)("header",{children:Object(h.jsx)(j.b,{to:"/",children:Object(h.jsx)("h1",{className:i.a.title,children:"Tiempo21 Noticias"})})}),Object(h.jsx)("main",{className:i.a.siteContainer,children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/news/:newSlug",children:Object(h.jsx)(v,{})}),Object(h.jsx)(o.a,{path:"/",children:Object(h.jsx)(A,{})})]})}),Object(h.jsxs)("footer",{className:i.a.footer,children:["\xa9 ",(new Date).getFullYear()," ",Object(h.jsx)("br",{})," Tiempo21 - Radio Victoria, Las Tunas, Cuba."]})]})}n(40);a.a.render(Object(h.jsx)(T,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.51e31d78.chunk.js.map