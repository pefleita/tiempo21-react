{"version":3,"sources":["components/Search.module.css","App.module.css","pages/NewDetails.module.css","components/NewCard.module.css","components/Spinner.module.css","components/Error.module.css","components/NewsGrid.module.css","components/Spinner.jsx","hooks/useFetch.jsx","components/Error.jsx","pages/NewDetails.jsx","hooks/useQuery.jsx","components/NewCard.jsx","components/NewsGrid.jsx","components/Search.jsx","pages/LandingPage.jsx","App.jsx","index.js"],"names":["module","exports","Spinner","className","styles","spinner","spinning","size","useFetch","url","useState","data","setData","error","setError","isLoading","setIsLoading","fullUrl","useEffect","fetch","then","res","ok","Error","json","catch","err","message","errorContainer","NewDetails","useParams","newSlug","map","noticia","detailsContainer","imageContainer","width","height","src","_embedded","media_details","sizes","full","source_url","alt","title","rendered","dangerouslySetInnerHTML","__html","meta","author","name","Date","date","toLocaleDateString","content","id","useQuery","URLSearchParams","useLocation","search","NewCard","newCard","to","slug","newImage","thumbnail","NewsGrid","get","newsGrid","Search","searchText","setSearchText","history","useHistory","searchContainer","onSubmit","e","preventDefault","push","searchBox","searchInput","type","value","onChange","target","searchButton","LandingPage","App","siteContainer","exact","path","footer","getFullYear","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.091ae97a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"Search_searchContainer__3z6v2\",\"searchBox\":\"Search_searchBox__1pJwM\",\"searchButton\":\"Search_searchButton__1RGsb\",\"searchInput\":\"Search_searchInput__J1pms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__1OvA6\",\"siteContainer\":\"App_siteContainer__2FWuB\",\"footer\":\"App_footer__35aq5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"NewDetails_detailsContainer__3WkNo\",\"imageContainer\":\"NewDetails_imageContainer__3y3-A\",\"meta\":\"NewDetails_meta__2Jqfc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newCard\":\"NewCard_newCard__3pbsO\",\"newImage\":\"NewCard_newImage__3Aqmu\",\"date\":\"NewCard_date__1-M05\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3cs2_\",\"spinning\":\"Spinner_spinning__2P68f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorContainer\":\"Error_errorContainer__2C2Ej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsGrid\":\"NewsGrid_newsGrid__jgZ_8\"};","import { FaSpinner } from \"react-icons/fa\";\r\nimport styles from \"./Spinner.module.css\";\r\n\r\nexport function Spinner() {\r\n  return (\r\n    <div className={styles.spinner}>\r\n      <FaSpinner className={styles.spinning} size={60} />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst API_URL = \"https://www.tiempo21.cu/wp-json/wp/v2/\";\r\n\r\nexport function useFetch(url) {\r\n  const [data, setData] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const fullUrl = API_URL + url;\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const fetchData = () => {\r\n      fetch(fullUrl)\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            throw Error(\r\n              \"Ups... Lo sentimos, al parecer el servicio de noticias no está funcionando.\"\r\n            );\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          setData(data);\r\n          setIsLoading(false);\r\n          setError(null);\r\n        })\r\n        .catch((err) => {\r\n          setData([]);\r\n          setIsLoading(false);\r\n          setError(err.message);\r\n        });\r\n    };\r\n    fetchData();\r\n  }, [fullUrl]);\r\n\r\n  return { data, error, isLoading };\r\n}\r\n","import styles from \"./Error.module.css\";\r\n\r\nexport function Error({ err }) {\r\n  if (err === \"Failed to fetch\") {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <div>\r\n          <span>\r\n            No se pudo conectar con la web de noticias. <br />\r\n            Revice su conexión\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className={styles.errorContainer}>\r\n      <div>\r\n        <span>{err}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { FiCalendar, FiUser } from \"react-icons/fi\";\r\nimport { Spinner } from \"../components/Spinner\";\r\nimport styles from \"./NewDetails.module.css\";\r\nimport { useFetch } from \"../hooks/useFetch\";\r\nimport { Error } from \"../components/Error\";\r\n\r\nexport function NewDetails() {\r\n  const { newSlug } = useParams();\r\n  const url = \"posts?_embed&slug=\" + newSlug;\r\n\r\n  const { data, error, isLoading } = useFetch(url);\r\n\r\n  if (isLoading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Error err={error} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {data.map((noticia) => {\r\n        return (\r\n          <div key={noticia.id} className={styles.detailsContainer}>\r\n            <div>\r\n              <div className={styles.imageContainer}>\r\n                <img\r\n                  width={800}\r\n                  height={420}\r\n                  src={\r\n                    noticia._embedded[\"wp:featuredmedia\"][0].media_details.sizes\r\n                      .full.source_url\r\n                  }\r\n                  alt={noticia.title.rendered}\r\n                />\r\n              </div>\r\n              <h2\r\n                dangerouslySetInnerHTML={{ __html: noticia.title.rendered }}\r\n              ></h2>\r\n              <ul className={styles.meta}>\r\n                <li>\r\n                  <FiUser size={15} />{\" \"}\r\n                  <span>{noticia._embedded.author[0].name}</span>\r\n                </li>\r\n                <li>\r\n                  <FiCalendar size={15} />{\" \"}\r\n                  <span>{new Date(noticia.date).toLocaleDateString()}</span>\r\n                </li>\r\n              </ul>\r\n              <div\r\n                dangerouslySetInnerHTML={{ __html: noticia.content.rendered }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n","import { useLocation } from \"react-router-dom\";\r\n\r\nexport function useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }","import { Link } from \"react-router-dom\";\r\nimport styles from \"./NewCard.module.css\";\r\nimport { FiCalendar } from \"react-icons/fi\";\r\n\r\nexport function NewCard({ noticia }) {\r\n  return (\r\n    <li className={styles.newCard}>\r\n      <Link to={\"/news/\" + noticia.slug}>\r\n        <img\r\n          width={150}\r\n          height={150}\r\n          className={styles.newImage}\r\n          src={\r\n            noticia._embedded[\"wp:featuredmedia\"][0].media_details.sizes\r\n              .thumbnail.source_url\r\n          }\r\n          alt={noticia.title.rendered}\r\n        />\r\n        <div>\r\n          <h3 dangerouslySetInnerHTML={{ __html: noticia.title.rendered }}></h3>\r\n          <div className={styles.date}>\r\n            <FiCalendar size={15} />\r\n            <span>{new Date(noticia.date).toLocaleDateString()}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import { useFetch } from \"../hooks/useFetch\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\nimport { Error } from \"./Error\";\r\nimport { NewCard } from \"./NewCard\";\r\nimport { Spinner } from \"./Spinner\";\r\nimport styles from \"./NewsGrid.module.css\";\r\n\r\nexport function NewsGrid() {\r\n  const query = useQuery();\r\n  const search = query.get(\"search\");\r\n  const searchUrl = search ? \"posts?_embed&search=\" + search : \"posts?_embed\";\r\n\r\n  const { data, error, isLoading } = useFetch(searchUrl);\r\n\r\n  if (isLoading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Error err={error} />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.newsGrid}>\r\n      <ul>\r\n        {data.map((noticia) => {\r\n          return <NewCard key={noticia.id} noticia={noticia} />;\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import styles from \"./Search.module.css\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\n\r\nexport function Search() {\r\n  const query = useQuery();\r\n  const search = query.get(\"search\");\r\n\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setSearchText(search || \"\");\r\n  }, [search]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/?search=\" + searchText);\r\n  };\r\n\r\n  return (\r\n    <form className={styles.searchContainer} onSubmit={handleSubmit}>\r\n      <div className={styles.searchBox}>\r\n        <input\r\n          className={styles.searchInput}\r\n          type=\"text\"\r\n          value={searchText}\r\n          onChange={(e) => setSearchText(e.target.value)}\r\n        />\r\n        <button className={styles.searchButton} type=\"submit\">\r\n          <FaSearch size={20} />\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import { NewsGrid } from \"../components/NewsGrid\";\r\nimport { Search } from \"../components/Search\";\r\n\r\nexport function LandingPage() {\r\n  return (\r\n    <div>\r\n      <Search />\r\n      <NewsGrid />\r\n    </div>\r\n  );\r\n}\r\n","import styles from \"./App.module.css\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { NewDetails } from \"./pages/NewDetails\";\r\nimport { LandingPage } from \"./pages/LandingPage\";\r\n\r\nexport function App() {\r\n  return (\r\n    <Router>\r\n      <header>\r\n        <Link to=\"/\">\r\n          <h1 className={styles.title}>Tiempo21 Noticias</h1>\r\n        </Link>\r\n      </header>\r\n      <main className={styles.siteContainer}>\r\n        <Switch>\r\n          <Route exact path=\"/news/:newSlug\">\r\n            <NewDetails />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <LandingPage />\r\n          </Route>\r\n        </Switch>\r\n      </main>\r\n      <footer className={styles.footer}>\r\n        © {new Date().getFullYear()} <br /> Tiempo21 - Radio Victoria, Las\r\n        Tunas, Cuba.\r\n      </footer>\r\n    </Router>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}