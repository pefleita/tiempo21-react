{"version":3,"sources":["components/Search.module.css","App.module.css","pages/NewDetails.module.css","components/NewCard.module.css","components/Spinner.module.css","components/Error.module.css","components/NewsGrid.module.css","components/Spinner.jsx","hooks/useFetch.jsx","components/Error.jsx","pages/NewDetails.jsx","hooks/useQuery.jsx","components/NewCard.jsx","components/NewsGrid.jsx","components/Search.jsx","pages/LandingPage.jsx","App.jsx","index.js"],"names":["module","exports","Spinner","className","styles","spinner","spinning","size","useFetch","url","useState","data","setData","error","setError","isLoading","setIsLoading","fullUrl","useEffect","fetch","then","res","ok","Error","json","catch","err","message","errorContainer","NewDetails","useParams","newSlug","map","noticia","detailsContainer","imageContainer","width","height","src","_embedded","media_details","sizes","full","source_url","alt","title","rendered","dangerouslySetInnerHTML","__html","meta","author","name","Date","date","toLocaleDateString","content","id","useQuery","URLSearchParams","useLocation","search","NewCard","newCard","to","slug","newImage","thumbnail","NewsGrid","get","newsGrid","Search","searchText","setSearchText","history","useHistory","searchContainer","onSubmit","e","preventDefault","push","searchBox","searchInput","type","value","onChange","target","searchButton","LandingPage","App","siteContainer","exact","path","footer","getFullYear","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51e31d78.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"Search_searchContainer__3zXIn\",\"searchBox\":\"Search_searchBox__2e2o5\",\"searchButton\":\"Search_searchButton__26uDe\",\"searchInput\":\"Search_searchInput__2uLKN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__-GfWs\",\"siteContainer\":\"App_siteContainer__VZkNZ\",\"footer\":\"App_footer__29Fsv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"NewDetails_detailsContainer__29sGA\",\"imageContainer\":\"NewDetails_imageContainer__36Ay6\",\"meta\":\"NewDetails_meta__InY4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newCard\":\"NewCard_newCard__2gsec\",\"newImage\":\"NewCard_newImage__KUeBI\",\"date\":\"NewCard_date__K9sxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__1XGpJ\",\"spinning\":\"Spinner_spinning__3-n4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorContainer\":\"Error_errorContainer__3Vt-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsGrid\":\"NewsGrid_newsGrid__1f2Ay\"};","import { FaSpinner } from \"react-icons/fa\";\nimport styles from \"./Spinner.module.css\";\n\nexport function Spinner() {\n  return (\n    <div className={styles.spinner}>\n      <FaSpinner className={styles.spinning} size={60} />\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nconst API_URL = \"https://www.tiempo21.cu/wp-json/wp/v2/\";\n\nexport function useFetch(url) {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fullUrl = API_URL + url;\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchData = () => {\n      fetch(fullUrl)\n        .then((res) => {\n          if (!res.ok) {\n            throw Error(\n              \"Ups... Lo sentimos, al parecer el servicio de noticias no está funcionando.\"\n            );\n          }\n          return res.json();\n        })\n        .then((data) => {\n          setData(data);\n          setIsLoading(false);\n          setError(null);\n        })\n        .catch((err) => {\n          setData([]);\n          setIsLoading(false);\n          setError(err.message);\n        });\n    };\n    fetchData();\n  }, [fullUrl]);\n\n  return { data, error, isLoading };\n}\n","import styles from \"./Error.module.css\";\n\nexport function Error({ err }) {\n  if (err === \"Failed to fetch\") {\n    return (\n      <div className={styles.errorContainer}>\n        <div>\n          <span>\n            No se pudo conectar con la web de noticias. <br />\n            Revice su conexión\n          </span>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className={styles.errorContainer}>\n      <div>\n        <span>{err}</span>\n      </div>\n    </div>\n  );\n}\n","import { useParams } from \"react-router-dom\";\nimport { FiCalendar, FiUser } from \"react-icons/fi\";\nimport { Spinner } from \"../components/Spinner\";\nimport styles from \"./NewDetails.module.css\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport { Error } from \"../components/Error\";\n\nexport function NewDetails() {\n  const { newSlug } = useParams();\n  const url = \"posts?_embed&slug=\" + newSlug;\n\n  const { data, error, isLoading } = useFetch(url);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  if (error) {\n    return <Error err={error} />;\n  }\n\n  return (\n    <>\n      {data.map((noticia) => {\n        return (\n          <div key={noticia.id} className={styles.detailsContainer}>\n            <div>\n              <div className={styles.imageContainer}>\n                <img\n                  width={800}\n                  height={420}\n                  src={\n                    noticia._embedded[\"wp:featuredmedia\"][0].media_details.sizes\n                      .full.source_url\n                  }\n                  alt={noticia.title.rendered}\n                />\n              </div>\n              <h2\n                dangerouslySetInnerHTML={{ __html: noticia.title.rendered }}\n              ></h2>\n              <ul className={styles.meta}>\n                <li>\n                  <FiUser size={15} />{\" \"}\n                  <span>{noticia._embedded.author[0].name}</span>\n                </li>\n                <li>\n                  <FiCalendar size={15} />{\" \"}\n                  <span>{new Date(noticia.date).toLocaleDateString()}</span>\n                </li>\n              </ul>\n              <div\n                dangerouslySetInnerHTML={{ __html: noticia.content.rendered }}\n              ></div>\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }","import { Link } from \"react-router-dom\";\nimport styles from \"./NewCard.module.css\";\nimport { FiCalendar } from \"react-icons/fi\";\n\nexport function NewCard({ noticia }) {\n  return (\n    <li className={styles.newCard}>\n      <Link to={\"/news/\" + noticia.slug}>\n        <img\n          width={150}\n          height={150}\n          className={styles.newImage}\n          src={\n            noticia._embedded[\"wp:featuredmedia\"][0].media_details.sizes\n              .thumbnail.source_url\n          }\n          alt={noticia.title.rendered}\n        />\n        <div>\n          <h3 dangerouslySetInnerHTML={{ __html: noticia.title.rendered }}></h3>\n          <div className={styles.date}>\n            <FiCalendar size={15} />\n            <span>{new Date(noticia.date).toLocaleDateString()}</span>\n          </div>\n        </div>\n      </Link>\n    </li>\n  );\n}\n","import { useFetch } from \"../hooks/useFetch\";\nimport { useQuery } from \"../hooks/useQuery\";\nimport { Error } from \"./Error\";\nimport { NewCard } from \"./NewCard\";\nimport { Spinner } from \"./Spinner\";\nimport styles from \"./NewsGrid.module.css\";\n\nexport function NewsGrid() {\n  const query = useQuery();\n  const search = query.get(\"search\");\n  const searchUrl = search ? \"posts?_embed&search=\" + search : \"posts?_embed\";\n\n  const { data, error, isLoading } = useFetch(searchUrl);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  if (error) {\n    return <Error err={error} />;\n  }\n\n  return (\n    <div className={styles.newsGrid}>\n      <ul>\n        {data.map((noticia) => {\n          return <NewCard key={noticia.id} noticia={noticia} />;\n        })}\n      </ul>\n    </div>\n  );\n}\n","import styles from \"./Search.module.css\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useQuery } from \"../hooks/useQuery\";\n\nexport function Search() {\n  const query = useQuery();\n  const search = query.get(\"search\");\n\n  const [searchText, setSearchText] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    setSearchText(search || \"\");\n  }, [search]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    history.push(\"/?search=\" + searchText);\n  };\n\n  return (\n    <form className={styles.searchContainer} onSubmit={handleSubmit}>\n      <div className={styles.searchBox}>\n        <input\n          className={styles.searchInput}\n          type=\"text\"\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n        <button className={styles.searchButton} type=\"submit\">\n          <FaSearch size={20} />\n        </button>\n      </div>\n    </form>\n  );\n}\n","import { NewsGrid } from \"../components/NewsGrid\";\nimport { Search } from \"../components/Search\";\n\nexport function LandingPage() {\n  return (\n    <div>\n      <Search />\n      <NewsGrid />\n    </div>\n  );\n}\n","import styles from \"./App.module.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { NewDetails } from \"./pages/NewDetails\";\nimport { LandingPage } from \"./pages/LandingPage\";\n\nexport function App() {\n  return (\n    <Router>\n      <header>\n        <Link to=\"/\">\n          <h1 className={styles.title}>Tiempo21 Noticias</h1>\n        </Link>\n      </header>\n      <main className={styles.siteContainer}>\n        <Switch>\n          <Route exact path=\"/news/:newSlug\">\n            <NewDetails />\n          </Route>\n          <Route path=\"/\">\n            <LandingPage />\n          </Route>\n        </Switch>\n      </main>\n      <footer className={styles.footer}>\n        © {new Date().getFullYear()} <br /> Tiempo21 - Radio Victoria, Las\n        Tunas, Cuba.\n      </footer>\n    </Router>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}